<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik+Glitch&family=Russo+One&family=Saira+Stencil+One&family=Ubuntu+Condensed&family=Unica+One&display=swap"
      rel="stylesheet"
    />

    <!-- AOS  -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="/stylesheets/publisher/dashboard.css" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Saira+Stencil+One&display=swap");
    </style>

    <title>Publisher - Dashboard</title>
  </head>
  <body>
    <div class="grid-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-header">
          <a href="#" class="sidebar-logo">
            <h2
              class="mb-4 text-secondary"
              style="font-family: 'Saira Stencil One', sans-serif"
            >
              PUBLISHER DASHBOARD
            </h2>
          </a>
        </div>
        <div class="sidebar-nav">
          <!-- <a href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>
              Home
            </a> -->
          <a href="/publisher/<%= id %>/dashboard/profile" class="bg-gray-100">
            <i class="bi bi-person-circle" style="font-size: 20px"></i>
            Profile
          </a>
          <a href="/publisher/<%=id %>/dashboard">
            <i class="bi bi-postcard-fill" style="font-size: 20px"></i>
            Post
            <div class="badge bg-primary"><%= post %></div>
          </a>
          <a href="/publisher/<%=id %>/dashboard/community">
            <i class="bi bi-building" style="font-size: 20px"></i>
            Community
            <div class="badge bg-primary"><%=community.length%></div>
          </a>
          <a href="/publisher/<%=id %>/dashboard/logout">
            <i class="bi bi-box-arrow-left" style="font-size: 20px"></i>
            Logout
          </a>
        </div>
      </div>

      <!-- Nav2 -->

      <nav class="navbar nav2 bg-body-tertiary fixed-top bg-secondary">
        <div class="container-fluid">
          <a href="#" class="sidebar-logo">
            <h4
              class="mb-4 text-secondary"
              style="font-family: 'Saira Stencil One', sans-serif"
            >
              PUBLISHER DASHBOARD
            </h4>
            >
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasNavbar"
            aria-controls="offcanvasNavbar"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="offcanvas offcanvas-end"
            tabindex="-1"
            id="offcanvasNavbar"
            aria-labelledby="offcanvasNavbarLabel"
          >
            <div class="offcanvas-header">
              <a href="#" class="sidebar-logo">
                <h5
                  class="mb-4 text-secondary"
                  style="font-family: 'Saira Stencil One', sans-serif"
                >
                  PUBLISHER DASHBOARD
                </h5>
                >
              </a>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>
            <div class="offcanvas-body">
              <div class="sidebar-nav">
                <!-- <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg>
                    Home
                  </a> -->
                <a
                  href="/publisher/<%= id %>/dashboard/profile"
                  class="bg-gray-100"
                >
                  <i class="bi bi-person-circle" style="font-size: 20px"></i>
                  Profile
                </a>
                <a href="/publisher/<%=id %>/dashboard">
                  <i class="bi bi-postcard-fill" style="font-size: 20px"></i>
                  Post
                  <div class="badge bg-primary"><%= post %></div>
                </a>
                <a href="/publisher/<%=id %>/dashboard/community">
                  <i class="bi bi-building" style="font-size: 20px"></i>
                  Community
                  <div class="badge bg-primary"><%=community.length%></div>
                </a>
                <a href="/publisher/<%=id %>/dashboard/logout">
                  <i class="bi bi-box-arrow-left" style="font-size: 20px"></i>
                  Logout
                </a>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <!-- Main Content -->
      <div class="main-content mt-5" style="overflow: scroll">
        <div class="container mt-5">
          <h2>Recent Communities</h2>
          <hr />
          <div class="table-responsive">
            <% if (community.length==0) { %>
            <h2 class="mt-5">No Communities Found</h2>
            <% }else{ %>
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Logo</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Mobile</th>
                  <th>Location</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <% for( let i = 0; i < community.length; i++ ) { %>
                <tr>
                  <td>
                    <img
                      src="<%=  community[i].dataValues.logo %>"
                      height="200"
                      width="200"
                      style="object-fit: contain"
                      alt=""
                    />
                  </td>
                  <td><%= community[i].dataValues.name %></td>
                  <td><%= community[i].dataValues.email %></td>
                  <td><%= community[i].dataValues.mobile %></td>
                  <td><%= community[i].dataValues.location %></td>
                  <th>
                    <center>
                      <button class="btn btn-dark text-light">
                        <a
                          href="/publisher/<%=id %>/dashboard/community/<%= community[i].dataValues.id %>"
                          >View</a
                        >
                      </button>
                    </center>
                  </th>
                </tr>
                <% } %>
              </tbody>
            </table>
            <% } %>
          </div>
        </div>
      </div>
    </div>
    <div class="add-container">
      <a href="/publisher/<%=id %>/dashboard/community/create">
        <img src="/images/plus.png" class="add" alt=""
      /></a>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
